<head>
	<title>呆魔徐</title>
</head>
<link rel="stylesheet" type="text/css" href="resource/css/common.css">
<link rel="stylesheet" type="text/css" href="resource/font-awesome-4.7.0/css/font-awesome.min.css">
<body>
	<section class="main-card">
		<section class="disc">
			<section id="head-icon" class="head-icon"></section>
			<section id="disc-shadow" class="disc-shadow"></section>
			<section id="axis" class="axis"></section>
		</section>
		<section class="center color_999">
			<span class="ft_fantasy ft1_5 fw700">WE ARE YOUNG</span>
		</section>
		<section class="center mt5 color_666">
			<i class="fa mh5 fa-github fa-lg pointer"></i>
			<!-- <i class="fa fa-google-plus fa-lg pointer"></i> -->
			<i class="fa mh5 fa-qq fa-lg pointer"></i>
			<i class="fa mh5 fa-renren fa-lg pointer"></i>
			<i class="fa mh5 fa-weibo fa-lg pointer"></i>
			<i class="fa mh5 fa-weixin fa-lg pointer"></i>
			<i class="fa mh5 fa-envelope-open fa-lg pointer"></i>
			<i class="fa mh5 fa-id-card fa-lg pointer"></i>
			<i class="fa mh5 fa-phone fa-lg pointer"></i>
		</section>
	</section>
	<footer>
		© 2017 徐强 | 生活不止眼前的苟且，还有诗和远方的田野
	</footer>
	<div class="video-container">
		<video id="main-video" data-id="main-video" data-src="resource/video/1500_bright_faid.webm" width="1920" height="1080" autoplay="" loop="" style="opacity: 1;">
			<source src="resource/video/1500_bright_faid.webm" type="video/webm">
		</video>
	</div>

	<div id="audio" class="aplayer" style="display:none;"></div>
	<script>
		window.onload = function(){
			var axis = document.getElementById('axis'),
				// audio = document.getElementById('main-audio'),
				icon = document.getElementById('head-icon'),
				light = document.getElementById('light');

			axis.addEventListener('mousedown', function(e){
				axis.addEventListener('mousemove', function(e){
					axis.style.transform = 'rotateZ(20deg)';

					// axis.addEventListener('mouseup', function(e){
					// 	axis.style.transform = 'rotateZ(-3deg)';
					// });

					icon.style.animation = 'head-icon-animation 5s linear 0s infinite';
					document.getElementById('disc-shadow').style.animation = 'disc-shadow-animation 5s linear 0s infinite';

					// audio.play();
					// audio.volume = 0.1;

					//音波
					if(!window.interval){
						var position = icon.getBoundingClientRect(),
							colors = ['#457c69','#74c393','#8f8c6d','#e5bf80','#e9d78d','#e2975d','#f29671','#e26553','#c94a53','#be5168','#a44974','#98376a','#65377f','#4e2372','#e279a1','#df598b','#7b9faf','#529ac0','#9cbe8c'],
								idx = 0;

						window.interval = setInterval(function(){
							var section = document.createElement('section'),
								color = colors[idx++ >= colors.length ? [idx=0,0] : idx];

							section.style.position = 'fixed';
							section.style.left = position.left + 'px';
							section.style.top = position.top;
							section.className = 'ripple';
							// section.style.border = '1px solid ' + color;
							section.style.boxShadow = '4px -4px 4px '+ color;
							section.style.zIndex = -1;
							
							document.body.appendChild(section);

							(function(){
								setTimeout(function(){
									document.body.removeChild(section);
								}, 5000);
							})(section);
						}, 1000);
					}

					axis.addEventListener('mouseup', function(){
						//设置light方位
						// var axisRect = axis.getBoundingClientRect(),
						// 	iconRect = icon.getBoundingClientRect();
						// light.style.width = icon.offsetHeight - iconRect.bottom + axisRect.bottom + 'px';
					})
				});

				var ap = new APlayer({ 
				    element: document.getElementById('audio'), 
				    narrow: false, 
				    autoplay: true, 
				    showlrc: false, 
				    music: { 
				        title: 'Preparation', 
				        author: 'Hans Zimmer/Richard Harvey', 
				        url: 'resource/audio/young.mp3', 
				        // pic: 'http://7xifn9.com1.z0.glb.clouddn.com/Preparation.jpg' 
				    } 
				});
				ap.init(); 
			});
		}
	</script>
</body>
<script src="https://cdn.bootcss.com/aplayer/1.4.7/APlayer.min.js"></script>