!function(t){function i(t){this.create(t)}i.prototype={data:"",constructor:i,colors:["#457c69","#74c393","#8f8c6d","#e5bf80","#e9d78d","#e2975d","#f29671","#e26553","#c94a53","#be5168","#a44974","#98376a","#65377f","#4e2372","#e279a1","#df598b","#7b9faf","#529ac0","#9cbe8c"],tmpl:"",create:function(i){if(this.constructor.prototype.tmpl)this.render();else{var o=this;window.catalogJsonp=function(t){var i=['<div class="blog animation-small-in">','<div class="header">','<div class="title">历史文章</div>','<a href="javascript:;" class="close"></a>',"</div>",'<div class="time-axis">','<div class="line">'];t.forEach(function(t,o){var s=['<div class="block" data-id="'+t.id+'">','<div class="dot">',"</div>",'<div class="box">','<span class="time">',t.date,"</span>",'<span class="name">',t.title,"</span>",'<div class="level"></div>','<div class="corrow"></div>',"</div>","</div>"].join("");i[i.length]=s}),i[i.length]=["</div>","</div>","</div>"].join(""),o.constructor.prototype.tmpl=i.join(""),o.render()},t.getScript("resource/blog/source/data/catalog.js")}},render:function(){this.$el=t(this.constructor.prototype.tmpl),this.$el.appendTo(t("body"));var i=this;this.$el.find(".box").each(function(o,s){var e=i.colors[Math.floor(19*Math.random())],c=t(s).css("border","1px solid "+e).find(".corrow");o%2?c.css("border-top","2px solid "+e).css("border-right","2px solid "+e):c.css("border-left","2px solid "+e).css("border-bottom","2px solid "+e)}),this.$el.click(function(t){"-1"!=t.target.className.indexOf("back")&&(this.$el.addClass("animation-small-out"),setTimeout(function(){this.$el.remove()},200))}),this.$el.find(".block").click(function(i){var o=i.currentTarget;t.iArticle(o.getAttribute("data-id"))}),this.evtBind()},evtBind:function(){var t=this;this.$el.find(".close").click(function(){t.close()})},open:function(){},close:function(){this.$el.remove()}},function(){var o=t.iBlog;t.iBlog=function(t){return new i(t)},t.iBlog.constructor=i,t.iBlog.defaults={},t.iBlog.noConfict=function(){return t.iBlog=o,this}}()}(jQuery);